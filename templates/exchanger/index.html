{% extends 'base.html' %}
{% block content %}
<div class="container py-4">
  <h2>💱 환율 계산기</h2>
  <form method="get" class="row g-3 align-items-center mt-2 mb-4">
    <div class="col-auto">
      <input type="number" name="amount" step="0.01" min="0" class="form-control" placeholder="금액 입력" required>
    </div>
    <div class="col-auto">
      <select name="from_currency" class="form-select">
        {% for curr in currencies %}
        <option value="{{ curr }}">{{ curr }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-auto">→</div>
    <div class="col-auto">
      <select name="to_currency" class="form-select">
        {% for curr in currencies %}
        <option value="{{ curr }}">{{ curr }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-auto">
      <button type="submit" class="btn btn-primary">계산</button>
    </div>
  </form>

  {% if result %}
    <div class="alert alert-success">
      {{ result.amount }} {{ result.from }} → <strong>{{ result.converted }}</strong> {{ result.to }}<br>
      기준일: {{ result.date }}
    </div>
  {% elif error %}
    <div class="alert alert-danger">{{ error }}</div>
  {% endif %}
</div>
{% endblock %}
